<!-- methods和computed的区别： 
对于最终的结果，两种方式确实是相同的。然而，不同的是计算属性是基于它们的依赖进行缓存的。计算属性只有在它的相关依赖发生改变时才会重新求值.
如果你不希望有缓存，请用 methods 替代。
-->

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<script src='vue.min.js'></script>

<style>
    .red {
        background: red;
    }
    .blue {
        background: blue;
    }
    /* 是'-'而不是'.' */
    .fade-enter-active, .fade-leave-active {
        transition: opacity 1s
    }
    .fade-enter, .fade-leave-active {
        opacity: 0
    }
    /* 列表线性过渡 */
    .query {
        transition: all 1s;
    }
    /* .query-move {
        transition: all 1s;
    } */
    .query-enter, .query-leave-active {
        opacity: 0;
        transform: translateX(10px);
    }
</style>
</head>
<body>
    <div id="el">
        <!-- 单双引号要用好，嵌套使用，不然会出错 -->
    	<input type="text" :value='a' v-model.lazy='a'>
        <span :class="{blue:d}">{{a}}</span><br>

        <!-- {{}}中一定是表达式或变量，不能是语句 -->
        <span>{{c.split('').join('-')}}</span>

        <!-- v-for循环 用过滤器的时候被过滤的元素还是会被创建，因为函数默认返回undefined-->
        <ul><li v-for='i in b'>{{i | num}}</li></ul>

        <!-- v-if -->
        <span v-if='d'>v-if</span><br>

        <!-- v-model -->
        <input type="text" v-model='c'><span>{{c}}</span><br>
        
        <!-- 计算属性 -->
        <span>{{c1}}</span><br>

        <!-- 方法 -->
        <button @click='add'>add</button><span>{{a}}</span>

        <!-- 复用实例,没用key的话，因为都用了同样的元素，所以只更新不同的placeholder，其他的没变 -->
        <div>
        <div v-if='d'><label>name:</label><input type="text" placeholder="please enter your name"></div>
        <div v-else><label>email:</label><input type="text" placeholder="please enter your email"></div>
        <button @click='toggle'>toggle</button>
        </div>
        <!-- v-for -->
        <ul>
            <li v-for='item in e'>{{item}}</li>
        </ul>
        
        <!-- 复选框 -->
        <!-- 点击修改checked的值（浏览器默认），先在data声明checked变量才能显示checked，不然显示undefined -->
        <!-- v-model获取checked的值 true or false-->
        <input type="checkbox" id="k" value='nihao' v-model='checked'><label for="k"></label>
        <span>{{checked}}</span><br>
        
        <!-- 点击v-model默认获取value的值 -->
        <input type="checkbox" id="1" value='3' v-model="checknames">
        <label for="1">3</label>
        <input type="checkbox" id="2" value='2' v-model="checknames">
        <label for="2">2</label>
        <input type="checkbox" id="3" value="1" v-model="checknames">
        <label for="3">1</label>
        <p>{{checknames}}</p>
        <br>

        <!-- select选择列表v-model获取的是option的value -->
        <!-- 如果option省略value属性，则value为text -->
        <select name="city" id="" v-model="selected">
            <option value="a">A</option>
            <option value="b">B</option>
            <option value="c">C</option>
        </select>
        <span>{{selected}}</span><br>
        <!-- 组件 -->
        <!--  -->
        <k-button>
            <template scope='props'>
                {{props.text}}
            </template>
        </k-button>

        <!-- 过度效果 -->
        <div>
        <button @click='toggle'>toggle</button>
        <transition name="fade">
            <p v-if='d'>hello</p>
        </transition>
        </div>

        <!-- 列表渐进过渡 -->
        <div>
            <input type="text" v-model='query'>
            <transition-group name='query' tag='ul'>
                <li v-for='item in computedlist' :key='item' class="query">{{item}}</li>
            </transition-group>
        </div>
    </div>
    <script>
    //全局注册组件
        Vue.component('k-button',{
            template: `<button @click='add'>
            <slot :text=count></slot>
        </button>`,
            data: function () {
                return {
                    count: 1
                }
            },
            methods: {
                add: function () {
                    this.count++;
                }
            }
        })
    

    	var vm = new Vue({
    		el: '#el',    //这些都是对象，不要写成分号,字符串记得加双引号
    		data: {
    			a: 1,
                b: {
                    name: 'baby',
                    age: 12
                },
                c: 'huangchujia',
                d: true,
                e: [1,2,3,4],
                checked: false,
                checknames: [],
                selected: [],
                query: '',
                list: ['nihao','wodima','ya']
                

    		},
    		created: function () {
    			this.a = 4;
    		},
            // 过滤函数
            // filters而不是filter
            filters: {
                num: function (value) {
                    if(Number(value)){
                        return value;
                    }
                }
            },
            computed: {
                c1: function () {
                    return this.c.split('').reverse().join('-');
                },
                computedlist: function () {
                    var vm = this;
                    return this.list.filter(function (item) {
                        return item.toLowerCase().indexOf(vm.query.toLowerCase()) !== -1;
                    })
                }

            },
            //记住methods而不是method
            methods: {
                add: function () {
                    this.a+=1;
                },
                toggle: function () {
                    this.d = !this.d;
                }
            },
            // components: { nav }

    	})
    </script>
</body>
</html>